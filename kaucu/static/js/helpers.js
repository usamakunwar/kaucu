const DocumentType={Passport:"Passport",Photo:"Photo",Permit:"Permit",Visa:"Visa"},Activity={Loading:"Loading",Scanning:"Scanning",Uploading:"Uploading",Converting:"Converting"},Relationship={Husband:"Husband",Son:"Son",Father:"Father",Brother:"Brother",GrandFather:"GrandFather",Nephew:"Nephew",Uncle:"Uncle",WomenGroup:"Women Group"},Status={Cancelled:"Cancelled",Incomplete:"Incomplete",Complete:"Complete",Paid:"Paid",MofaComplete:"Got Mofa",PassportReceived:"Passport Received",VisaComplete:"Visa Complete",Dispatched:"Dispatched",Refunded:"Refunded"},Gender={Male:"Male",Female:"Female"},PaymentStatus={Pending:"Pending",Success:"Success",Error:"Error",ClientCancelled:"Client Cancelled"};function get(e){return checkNull($("#"+e).val())}function getDateValue(e){var t=$("#"+e).datepicker("getDate");return isValidDate(t)?t:null}function getSelectedData(e){console.log(e);var t=$("#"+e).find(":selected").data("value");return console.log("getSelectedData "+t),checkNull(t)}function checkNull(e){return null==e?null:""==e?null:e}function isValidDate(e){return e instanceof Date&&!isNaN(e)}function minPassportExpiryDate(){var e=new Date;return e.setMonth(e.getMonth()+6),e}function formatDate(e){return("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear()}function getAge(e){var t=Date.now()-e.getTime(),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)}function getFileID(e){$.ajax({url:"/file",type:"POST",success:function(t){e(t)},error:function(t){e(null)}})}function checkFileSize(e,t){$.ajax({url:"/filesize",type:"POST",data:{fileSize:e},success:function(e){t(e)},error:function(e){t(null)}})}function getFileDimensions(e,t){if("application/pdf"!=e.type){var n=new FileReader;n.onload=function(){var e=new Image;e.onload=function(){t(e.width,e.height)},e.src=n.result},n.readAsDataURL(e)}else t(null,null)}function statusColor(e){switch(e){case"Cancelled":return"f44242";case"Incomplete":return"e2ad00";case"Complete":return"f49741";case"Paid":return"82f441";case"Got Mofa":return"ff00bb";case"Passport Received":return"d000ff";case"Visa Complete":return"00ddff";case"Dispatched":return"00a1ff";default:return"f44242"}}class FileActive{constructor(e){this.objectId=e,this.object=$("#"+e)}set(e,t,n){t?this.object.addClass("hide"):(this.object.removeClass("hide"),this.object.empty(),this.object.unbind("click"),null==e?(n||(this.setTitleClick(),this.appendTitle()),this.object.css("background-image","none")):(this.setImageClick(e,n),this.object.css("background-image","url('"+e+"')"),this.object.css("background-repeat","no-repeat"),this.object.css("background-position","center"),this.object.css("background-size","cover")))}upload(){this.object.empty(),this.object.off("click"),this.appendSpinner(Activity.Uploading)}start(){this.object.empty(),this.object.off("click"),this.appendSpinner(Activity.Loading)}progress(e){$("#"+this.objectId+"Progress").text(e+" %")}scanning(e){this.object.empty(),this.appendSpinner(Activity.Scanning)}converting(e){this.object.empty(),this.appendSpinner(Activity.Converting)}stop(){this.object.empty(),this.setTitleClick(),this.appendTitle()}setTitleClick(){var e=this,t=function(){$("#"+e.objectId+"Input").click()};this.object.click(function(n){null!=firebase.auth().currentUser?t():(console.log("No User"),e.start(),authCallBackTask=t,firebase.auth().signInAnonymously().catch(function(t){null!=t&&(e.stop(),showAlert("Error",t,!0))}))})}setImageClick(e,t){var n=this.objectId;this.object.click(function(){console.log(" Object Id "+n),n!=DocumentType.Passport?($("#dialogDelete").prop("disabled",t),t||$("#dialogDelete").click(function(){$("#dialogDismiss").click(),deleteFile(n)})):$("#dialogDelete").prop("disabled",!0),$("#dialogLabel").text(this.objectId),$("#dialogImage").attr("src",e),$("#"+n+"Button").click()})}appendTitle(){this.object.append('<div class="col-sm-12">+ Add '+this.objectId+"</div>")}appendSpinner(e){this.object.append(' \n                <div class="col-sm-12">\n                    <div class="spinner-border align-middle" role="status"></div> \n                    <span class="ml-3 align-middle">\n                        '+e+'\n                        <span id="'+this.objectId+'Progress"></span\n                    </div>\n                </div>\n            ')}}class ButtonActive{constructor(e){this.objectId=e,this.object=$("#"+e)}start(){this.object.empty(),this.disable(),this.appendSpinner(Activity.Loading)}stop(){this.object.empty(),this.enable(),this.appendTitle()}enable(){this.object.prop("disabled",!1)}disable(){this.object.prop("disabled",!0)}appendTitle(){this.object.append(capitalizeFirstLetter(this.objectId))}appendSpinner(e){this.object.append('\n        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n        '+e)}}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function showAlert(e,t,n,i){$("#alertHeading").empty(),$("#alertHeading").text(e),$("#alertMessage").empty(),$("#alertMessage").text(t),n?($("#alertContent").removeClass("alert-success"),$("#alertContent").addClass("alert-danger")):($("#alertContent").removeClass("alert-danger"),$("#alertContent").addClass("alert-success")),$("#AlertButton").click(),i&&$("#alertDismiss").click(function(){i()})}function showDone(e,t){$("#doneLabel").empty(),$("#doneLabel").text(e),$("#DoneButton").click(),$("#doneDismiss").click(function(){t()})}function removeFromArray(e,t){return e>-1&&t.splice(e,1),t}function makeSmallAndDash(e){return e.replace(/\s+/g,"-").toLowerCase()}function dictIsEmpty(e){return 0===Object.keys(e).length}function addHide(e){$("#"+e).addClass("hide")}function noNull(e){return null==e?"":e}